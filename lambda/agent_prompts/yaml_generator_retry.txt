The previous YAML workflow generation failed. You MUST fix the issues and generate a complete, valid workflow.

{validation_errors}

CRITICAL ISSUES TO FIX:
- Review each validation error carefully (if any listed above)
- Ensure every job has `runs-on:` field (e.g., `runs-on: ubuntu-latest`) - THIS IS MANDATORY
- Ensure every job has `steps:` field with at least one step - THIS IS MANDATORY
- Ensure deploy jobs include actual deployment actions (not just credential configuration)
- Check YAML syntax and indentation
- Verify all required fields are present
- Make sure the workflow is complete and functional

Previous YAML (first 500 chars for reference - DO NOT copy errors):
{previous_yaml}

{base_prompt}

CRITICAL: Generate a COMPLETE and VALID workflow. The previous attempt was TRUNCATED or INCOMPLETE.

MANDATORY REQUIREMENTS FOR COMPLETENESS:
1. The workflow MUST be complete from start to finish - DO NOT truncate mid-generation
2. Every job must have both `runs-on:` and `steps:` fields
3. The deploy job MUST include the actual ECS deployment command (e.g., `aws ecs update-service`)
4. All steps must be fully defined with complete commands
5. The YAML code block must be complete (starts with ```yaml and ends with ```)
6. DO NOT stop mid-line, mid-command, or mid-block - generate the ENTIRE workflow
7. The deploy job must have ALL required steps:
   - Configure AWS credentials
   - Set ECS values (if needed)
   - Execute the actual deployment command (e.g., `aws ecs update-service --cluster ... --service ... --force-new-deployment`)
   - Any post-deployment verification steps

COMPLETENESS CHECKLIST:
- [ ] Workflow starts with `name:` and `on:` sections
- [ ] All security scanning jobs (sast, sca, secrets-scan, iac-scan) are complete
- [ ] Infrastructure job is complete with all Terraform steps
- [ ] Build job is complete with Docker build and push
- [ ] Deploy job is complete with actual ECS update-service command
- [ ] All jobs properly closed (proper YAML indentation)
- [ ] YAML code block properly closed with ```

DO NOT repeat previous mistakes. Generate the COMPLETE workflow this time.

